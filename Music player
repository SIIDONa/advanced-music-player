name: Android CI: Build Debug APK

# ... (á‹¨áˆ˜áŒ€áˆ˜áˆªá‹«á‹ áŠ­ááˆ á‰°áˆ˜áˆ³áˆ³á‹­ áŠá‹ - on: push, pull_request, á‹ˆá‹˜á‰°.)
on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ áŠ®á‹±áŠ• áŠ á‹áˆ­á‹µ (Checkout Code)
      uses: actions/checkout@v4

    - name: â˜• JDK 17áŠ• áŠ á‹˜áŒ‹áŒ… (Setup Java)
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
        
    - name: ğŸ”‘ Gradle WrapperáŠ• áŠ áŠ¨áŠ“á‹‹áŠ (Grant execute permission)
      run: chmod +x ./gradlew

    - name: ğŸ”¨ Debug APKáŠ• áŠ á‹˜áŒ‹áŒ… (Build Debug APK)
      run: ./gradlew assembleDebug

    - name: â¬†ï¸ APKá‹áŠ• áˆµá‰€áˆ (Upload APK as Artifact)
      # ğŸ’¥ áŠ¥á‹šáˆ… áŠá‹ áˆˆá‹áŒ¡! v3 á‹ˆá‹° v4 á‰°á‰€á‹­áˆ¯áˆ
      uses: actions/upload-artifact@v4 
      with:
        name: app-debug-apk
        path: app/build/outputs/apk/debug/app-debug.apk
